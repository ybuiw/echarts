"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _react = _interopRequireWildcard(require("react"));

var echarts = _interopRequireWildcard(require("echarts/core"));

var _components = require("echarts/components");

var _charts = require("echarts/charts");

var _renderers = require("echarts/renderers");

echarts.use([_components.GridComponent, _components.TooltipComponent, _charts.LineChart, _renderers.CanvasRenderer]);

var EChartsBar = function EChartsBar(props) {
  var _props$width = props.width,
      width = _props$width === void 0 ? '100%' : _props$width,
      _props$height = props.height,
      height = _props$height === void 0 ? '100%' : _props$height,
      _props$smooth = props.smooth,
      smooth = _props$smooth === void 0 ? false : _props$smooth,
      _props$colors = props.colors,
      colors = _props$colors === void 0 ? ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'] : _props$colors,
      _props$color = props.color,
      color = _props$color === void 0 ? '#333' : _props$color,
      _props$lineColor = props.lineColor,
      lineColor = _props$lineColor === void 0 ? '#abb9d0' : _props$lineColor,
      _props$splitColor = props.splitColor,
      splitColor = _props$splitColor === void 0 ? '#e0e7f3' : _props$splitColor,
      _props$fontSize = props.fontSize,
      fontSize = _props$fontSize === void 0 ? 14 : _props$fontSize,
      _props$data = props.data,
      data = _props$data === void 0 ? [] : _props$data,
      _props$xAxis = props.xAxis,
      xAxis = _props$xAxis === void 0 ? {} : _props$xAxis,
      _props$yAxis = props.yAxis,
      yAxis = _props$yAxis === void 0 ? {} : _props$yAxis,
      _props$grid = props.grid,
      grid = _props$grid === void 0 ? {} : _props$grid,
      _props$areaStyle = props.areaStyle,
      areaStyle = _props$areaStyle === void 0 ? {} : _props$areaStyle,
      onClick = props.onClick;
  console.log(grid);
  var chartRef = (0, _react.useRef)(null);
  var myChart = null;
  (0, _react.useEffect)(function () {
    myChart = echarts.init(chartRef.current);
    myChart.clear();
    var _names = [];
    data.length > 0 && data.map(function (item) {
      _names.push(item.name);
    });

    var _grid = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, {
      top: '5%',
      bottom: '10%',
      left: '10%',
      right: '5%'
    }), grid);

    var _xAxis = {
      type: 'category',
      boundaryGap: false,
      axisLabel: {
        color: xAxis.color ? xAxis.color : color,
        fontSize: xAxis.fontSize ? xAxis.fontSize : fontSize,
        rotate: xAxis.rotate ? xAxis.rotate : 0
      },
      axisLine: {
        show: xAxis.lineColor === false ? false : true,
        lineStyle: {
          color: xAxis.lineColor ? xAxis.lineColor : lineColor
        }
      },
      axisTick: {
        show: xAxis.isTick
      },
      splitLine: {
        show: xAxis.splitColor ? true : false,
        lineStyle: {
          color: xAxis.splitColor ? xAxis.splitColor : splitColor
        }
      },
      data: _names
    };
    var _yAxis = {
      name: yAxis.name,
      type: 'value',
      axisLabel: {
        color: yAxis.color ? yAxis.color : color,
        fontSize: yAxis.fontSize ? yAxis.fontSize : fontSize
      },
      axisLine: {
        show: yAxis.lineColor === false ? false : true,
        lineStyle: {
          color: yAxis.lineColor ? yAxis.lineColor : lineColor
        }
      },
      axisTick: {
        show: false
      },
      splitLine: {
        show: yAxis.splitColor === false ? false : true,
        lineStyle: {
          color: yAxis.splitColor ? yAxis.splitColor : splitColor
        }
      }
    };

    var _areaColor;

    if (areaStyle.isGrad) {
      if (Array.isArray(areaStyle.color) && areaStyle.color.length > 1) {
        _areaColor = {
          type: 'linear',
          x: 0,
          y: 0,
          x2: 0,
          y2: 1,
          colorStops: [{
            offset: 0,
            color: areaStyle.color[0]
          }, {
            offset: 1,
            color: areaStyle.color[1]
          }],
          global: false
        };
      } else {
        _areaColor = {
          type: 'linear',
          x: 0,
          y: 0,
          x2: 0,
          y2: 1,
          colorStops: [{
            offset: 0,
            color: colors[0]
          }, {
            offset: 1,
            color: 'rgba(255,255,255,0)'
          }],
          global: false
        };
      }
    }

    myChart.setOption({
      tooltip: {
        trigger: 'axis',
        transitionDuration: 0,
        axisPointer: {
          type: 'shadow'
        }
      },
      color: colors,
      grid: _grid,
      xAxis: _xAxis,
      yAxis: _yAxis,
      series: [{
        data: data,
        type: 'line',
        smooth: smooth,
        areaStyle: areaStyle.show ? {
          color: _areaColor
        } : undefined,
        lineStyle: {
          width: 1
        }
      }]
    }, true);
    window.addEventListener("resize", myChart.resize);
    window.addEventListener('load', myChart.resize, false);
    myChart.off('click');
    myChart.on('click', function (v) {
      onClick === null || onClick === void 0 ? void 0 : onClick(v.data);
      console.log(v.data);
    });
    return function () {
      window.removeEventListener('resize', myChart.resize, false);
      window.removeEventListener('load', myChart.resize, false);
      myChart.dispose();
      myChart = null;
    };
  }, [data]);
  return /*#__PURE__*/_react.default.createElement("div", {
    ref: chartRef,
    style: {
      'width': width,
      'height': height
    }
  });
};

var _default = EChartsBar;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleC50c3giXSwibmFtZXMiOlsiZWNoYXJ0cyIsInVzZSIsIkdyaWRDb21wb25lbnQiLCJUb29sdGlwQ29tcG9uZW50IiwiTGluZUNoYXJ0IiwiQ2FudmFzUmVuZGVyZXIiLCJFQ2hhcnRzQmFyIiwicHJvcHMiLCJ3aWR0aCIsImhlaWdodCIsInNtb290aCIsImNvbG9ycyIsImNvbG9yIiwibGluZUNvbG9yIiwic3BsaXRDb2xvciIsImZvbnRTaXplIiwiZGF0YSIsInhBeGlzIiwieUF4aXMiLCJncmlkIiwiYXJlYVN0eWxlIiwib25DbGljayIsImNvbnNvbGUiLCJsb2ciLCJjaGFydFJlZiIsIm15Q2hhcnQiLCJpbml0IiwiY3VycmVudCIsImNsZWFyIiwiX25hbWVzIiwibGVuZ3RoIiwibWFwIiwiaXRlbSIsInB1c2giLCJuYW1lIiwiX2dyaWQiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJfeEF4aXMiLCJ0eXBlIiwiYm91bmRhcnlHYXAiLCJheGlzTGFiZWwiLCJyb3RhdGUiLCJheGlzTGluZSIsInNob3ciLCJsaW5lU3R5bGUiLCJheGlzVGljayIsImlzVGljayIsInNwbGl0TGluZSIsIl95QXhpcyIsIl9hcmVhQ29sb3IiLCJpc0dyYWQiLCJBcnJheSIsImlzQXJyYXkiLCJ4IiwieSIsIngyIiwieTIiLCJjb2xvclN0b3BzIiwib2Zmc2V0IiwiZ2xvYmFsIiwic2V0T3B0aW9uIiwidG9vbHRpcCIsInRyaWdnZXIiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJheGlzUG9pbnRlciIsInNlcmllcyIsInVuZGVmaW5lZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNpemUiLCJvZmYiLCJvbiIsInYiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcG9zZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUVBQSxPQUFPLENBQUNDLEdBQVIsQ0FDRSxD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QS9DLE1BQUFBLE9BQU8sQ0FBQ29ELE9BQVI7QUFDQXBELE1BQUFBLE9BQU8sR0FBRyxJQUFWO0FBQ0QsS0FMRDtBQU1ELEdBcElELEVBb0lHLENBQUNULElBQUQsQ0FwSUg7QUFzSUEsc0JBQ0U7QUFBSyxJQUFBLEdBQUcsRUFBRVEsUUFBVjtBQUFxQixJQUFBLEtBQUssRUFBRTtBQUMxQixlQUFTaEIsS0FEaUI7QUFFMUIsZ0JBQVVDO0FBRmdCO0FBQTVCLElBREY7QUFNRCxDQWxLRDs7ZUFvS2VILFUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cy9jb3JlJztcbmltcG9ydCB7IEdyaWRDb21wb25lbnQsIFRvb2x0aXBDb21wb25lbnQsIEdyaWRDb21wb25lbnRPcHRpb24gfSBmcm9tICdlY2hhcnRzL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgTGluZUNoYXJ0IH0gZnJvbSAnZWNoYXJ0cy9jaGFydHMnO1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyZXIgfSBmcm9tICdlY2hhcnRzL3JlbmRlcmVycyc7XG5cbmVjaGFydHMudXNlKFxuICBbR3JpZENvbXBvbmVudCwgVG9vbHRpcENvbXBvbmVudCwgTGluZUNoYXJ0LCBDYW52YXNSZW5kZXJlcl1cbik7XG5cbmludGVyZmFjZSB4QXhpc1Byb3BzIHtcbiAgY29sb3I/OiBzdHJpbmc7XG4gIGZvbnRTaXplPzogbnVtYmVyO1xuICBsaW5lQ29sb3I/OiBzdHJpbmcgfCBib29sZWFuO1xuICBzcGxpdENvbG9yPzogc3RyaW5nIHwgYm9vbGVhbjtcbiAgcm90YXRlPzogbnVtYmVyO1xuICBpc1RpY2s/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgeUF4aXNQcm9wcyB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBmb250U2l6ZT86IG51bWJlcjtcbiAgbGluZUNvbG9yPzogc3RyaW5nIHwgYm9vbGVhbjtcbiAgc3BsaXRDb2xvcj86IHN0cmluZyB8IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBhcmVhU3R5bGVQcm9wcyB7XG4gIHNob3c/OiBib29sZWFuO1xuICBpc0dyYWQ/OiBib29sZWFuO1xuICBjb2xvcj86IHN0cmluZ1tdXG59XG5cbmludGVyZmFjZSBMaW5lQmFzZVByb3BzIHtcbiAgZGF0YT86IGFueVtdO1xuICB3aWR0aD86IHN0cmluZztcbiAgaGVpZ2h0Pzogc3RyaW5nO1xuICAvKiog5piv5ZCm5bmz5ruR5puy57q/5pi+56S6ICovXG4gIHNtb290aD86IGJvb2xlYW47XG4gIC8qKiDlrZfkvZPpopzoibIgKi9cbiAgY29sb3I/OiBzdHJpbmc7XG4gIC8qKiB4LCB56L206L2057q/57q/5p2h6aKc6ImyICovXG4gIGxpbmVDb2xvcj86IHN0cmluZztcbiAgLyoqIHgsIHnovbTnvZHmoLznur/mnaHpopzoibIgKi9cbiAgc3BsaXRDb2xvcj86IHN0cmluZztcbiAgLyoqIOWtl+S9k+Wkp+Wwj++8jOm7mOiupDE05YOP57SgICovXG4gIGZvbnRTaXplPzogbnVtYmVyIHwgc3RyaW5nO1xuICAvKiog5oqY57q/6aKc6ImyICovXG4gIGNvbG9ycz86IHN0cmluZ1tdO1xuICAvKiog5Yy65Z+f5aGr5YWF5qC35byPICovXG4gIGFyZWFTdHlsZT86IGFyZWFTdHlsZVByb3BzO1xuICAvKipcbiAgICogWCDovbTphY3nva5cbiAgICogQGNvbG9yIOaWh+Wtl+minOiJslxuICAgKiBAc2l6ZSDmloflrZflpKflsI9cbiAgICogQGxpbmVDb2xvciB46L206L2057q/57q/5p2h6aKc6ImyLCBmYWxzZSDliJnkuI3mmL7npLpcbiAgICogQHNwbGl0Q29sb3IgeOi9tOe9keagvOe6v+adoeminOiJsiwgZmFsc2Ug5YiZ5LiN5pi+56S6LCDpu5jorqR0cnVlXG4gICAqIEByb3RhdGUg5Yi75bqm5qCH562+5peL6L2s6KeS5bqmXG4gICAqIEBpc1RpY2sg5piv5ZCm5pi+56S65Z2Q5qCH6L205Yi75bqmXG4gICAqL1xuICB4QXhpcz86IHhBeGlzUHJvcHM7XG4gIC8qKlxuICAgKiB5IOi9tOmFjee9rlxuICAgKiBAbmFtZSDlnZDmoIfovbTlkI3np7BcbiAgICogQGNvbG9yIOaWh+Wtl+minOiJslxuICAgKiBAc2l6ZSDmloflrZflpKflsI9cbiAgICogQGxpbmVDb2xvciB56L206L2057q/57q/5p2h6aKc6ImyLCBmYWxzZSDliJnkuI3mmL7npLpcbiAgICogQHNwbGl0Q29sb3Igeei9tOe9keagvOe6v+adoeminOiJsiwgZmFsc2Ug5YiZ5LiN5pi+56S6LCDpu5jorqRmYWxzZVxuICAgKi9cbiAgeUF4aXM/OiB5QXhpc1Byb3BzO1xuICBncmlkPzogR3JpZENvbXBvbmVudE9wdGlvbjtcbiAgb25DbGljaz86ICh2OiBhbnkpID0+IHZvaWQ7XG59XG5cbmNvbnN0IEVDaGFydHNCYXIgPSAocHJvcHM6IExpbmVCYXNlUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHdpZHRoID0gJzEwMCUnLFxuICAgIGhlaWdodCA9ICcxMDAlJyxcbiAgICBzbW9vdGggPSBmYWxzZSxcbiAgICBjb2xvcnMgPSBbJyM1NDcwYzYnLCAnIzkxY2M3NScsICcjZmFjODU4JywgJyNlZTY2NjYnLCAnIzczYzBkZScsICcjM2JhMjcyJywgJyNmYzg0NTInLCAnIzlhNjBiNCcsICcjZWE3Y2NjJ10sXG4gICAgY29sb3IgPSAnIzMzMycsXG4gICAgbGluZUNvbG9yID0gJyNhYmI5ZDAnLFxuICAgIHNwbGl0Q29sb3IgPSAnI2UwZTdmMycsXG4gICAgZm9udFNpemUgPSAxNCxcbiAgICBkYXRhID0gW10sXG4gICAgeEF4aXMgPSB7fSxcbiAgICB5QXhpcyA9IHt9LFxuICAgIGdyaWQgPSB7fSxcbiAgICBhcmVhU3R5bGUgPSB7fSxcbiAgICBvbkNsaWNrXG4gIH0gPSBwcm9wcztcblxuICBjb25zb2xlLmxvZyhncmlkKVxuXG4gIGNvbnN0IGNoYXJ0UmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgbGV0IG15Q2hhcnQ6IGFueSA9IG51bGw7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbXlDaGFydCA9IGVjaGFydHMuaW5pdChjaGFydFJlZi5jdXJyZW50KTtcbiAgICBteUNoYXJ0LmNsZWFyKCk7XG4gICAgY29uc3QgX25hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGRhdGEubGVuZ3RoID4gMCAmJiBkYXRhLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICBfbmFtZXMucHVzaChpdGVtLm5hbWUpO1xuICAgIH0pXG4gICAgY29uc3QgX2dyaWQ6IEdyaWRDb21wb25lbnRPcHRpb24gPSB7Li4ue1xuICAgICAgdG9wOiAnNSUnLFxuICAgICAgYm90dG9tOiAnMTAlJyxcbiAgICAgIGxlZnQ6ICcxMCUnLFxuICAgICAgcmlnaHQ6ICc1JScsXG4gICAgfSwgLi4uZ3JpZH07XG4gICAgY29uc3QgX3hBeGlzOiBhbnkgPSB7XG4gICAgICB0eXBlOiAnY2F0ZWdvcnknLFxuICAgICAgYm91bmRhcnlHYXA6IGZhbHNlLFxuICAgICAgYXhpc0xhYmVsOiB7XG4gICAgICAgIGNvbG9yOiB4QXhpcy5jb2xvciA/IHhBeGlzLmNvbG9yIDogY29sb3IsXG4gICAgICAgIGZvbnRTaXplOiB4QXhpcy5mb250U2l6ZSA/IHhBeGlzLmZvbnRTaXplIDogZm9udFNpemUsXG4gICAgICAgIHJvdGF0ZTogeEF4aXMucm90YXRlID8geEF4aXMucm90YXRlIDogMCxcbiAgICAgIH0sXG4gICAgICBheGlzTGluZToge1xuICAgICAgICBzaG93OiB4QXhpcy5saW5lQ29sb3IgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICBsaW5lU3R5bGU6IHtcbiAgICAgICAgICBjb2xvcjogeEF4aXMubGluZUNvbG9yID8geEF4aXMubGluZUNvbG9yIDogbGluZUNvbG9yLFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXhpc1RpY2s6IHtcbiAgICAgICAgc2hvdzogeEF4aXMuaXNUaWNrLFxuICAgICAgfSxcbiAgICAgIHNwbGl0TGluZToge1xuICAgICAgICBzaG93OiB4QXhpcy5zcGxpdENvbG9yID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICBsaW5lU3R5bGU6IHtcbiAgICAgICAgICBjb2xvcjogeEF4aXMuc3BsaXRDb2xvciA/IHhBeGlzLnNwbGl0Q29sb3IgOiBzcGxpdENvbG9yLFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGF0YTogX25hbWVzXG4gICAgfVxuICAgIGNvbnN0IF95QXhpczogYW55ID0ge1xuICAgICAgbmFtZTogeUF4aXMubmFtZSxcbiAgICAgIHR5cGU6ICd2YWx1ZScsXG4gICAgICBheGlzTGFiZWw6IHtcbiAgICAgICAgY29sb3I6IHlBeGlzLmNvbG9yID8geUF4aXMuY29sb3IgOiBjb2xvcixcbiAgICAgICAgZm9udFNpemU6IHlBeGlzLmZvbnRTaXplID8geUF4aXMuZm9udFNpemUgOiBmb250U2l6ZSxcbiAgICAgIH0sXG4gICAgICBheGlzTGluZToge1xuICAgICAgICBzaG93OiB5QXhpcy5saW5lQ29sb3IgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICBsaW5lU3R5bGU6IHtcbiAgICAgICAgICBjb2xvcjogeUF4aXMubGluZUNvbG9yID8geUF4aXMubGluZUNvbG9yIDogbGluZUNvbG9yLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGF4aXNUaWNrOiB7XG4gICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHNwbGl0TGluZToge1xuICAgICAgICBzaG93OiB5QXhpcy5zcGxpdENvbG9yID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgICAgbGluZVN0eWxlOiB7XG4gICAgICAgICAgY29sb3I6IHlBeGlzLnNwbGl0Q29sb3IgPyB5QXhpcy5zcGxpdENvbG9yIDogc3BsaXRDb2xvcixcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9XG4gICAgbGV0IF9hcmVhQ29sb3I6IGFueTtcbiAgICBpZiAoYXJlYVN0eWxlLmlzR3JhZCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJlYVN0eWxlLmNvbG9yKSAmJiBhcmVhU3R5bGUuY29sb3IubGVuZ3RoID4gMSkge1xuICAgICAgICBfYXJlYUNvbG9yID0ge1xuICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB4MjogMCxcbiAgICAgICAgICB5MjogMSxcbiAgICAgICAgICBjb2xvclN0b3BzOiBbe1xuICAgICAgICAgICAgb2Zmc2V0OiAwLCBjb2xvcjogYXJlYVN0eWxlLmNvbG9yWzBdXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBvZmZzZXQ6IDEsIGNvbG9yOiBhcmVhU3R5bGUuY29sb3JbMV1cbiAgICAgICAgICB9XSxcbiAgICAgICAgICBnbG9iYWw6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9hcmVhQ29sb3IgPSB7XG4gICAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwLFxuICAgICAgICAgIHgyOiAwLFxuICAgICAgICAgIHkyOiAxLFxuICAgICAgICAgIGNvbG9yU3RvcHM6IFt7XG4gICAgICAgICAgICBvZmZzZXQ6IDAsIGNvbG9yOiBjb2xvcnNbMF1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDEsIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwKSdcbiAgICAgICAgICB9XSxcbiAgICAgICAgICBnbG9iYWw6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbXlDaGFydC5zZXRPcHRpb24oe1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICB0cmlnZ2VyOiAnYXhpcycsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgICAgICAgYXhpc1BvaW50ZXI6IHtcbiAgICAgICAgICB0eXBlOiAnc2hhZG93J1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29sb3I6IGNvbG9ycyxcbiAgICAgIGdyaWQ6IF9ncmlkLFxuICAgICAgeEF4aXM6IF94QXhpcyxcbiAgICAgIHlBeGlzOiBfeUF4aXMsXG4gICAgICBzZXJpZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICAgIHNtb290aDogc21vb3RoLFxuICAgICAgICAgIGFyZWFTdHlsZTogYXJlYVN0eWxlLnNob3cgPyB7XG4gICAgICAgICAgICBjb2xvcjogX2FyZWFDb2xvclxuICAgICAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgbGluZVN0eWxlOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIG15Q2hhcnQucmVzaXplKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG15Q2hhcnQucmVzaXplLCBmYWxzZSk7XG4gICAgbXlDaGFydC5vZmYoJ2NsaWNrJyk7XG4gICAgbXlDaGFydC5vbignY2xpY2snLCAodjogYW55KSA9PiB7XG4gICAgICBvbkNsaWNrPy4odi5kYXRhKTtcbiAgICAgIGNvbnNvbGUubG9nKHYuZGF0YSlcbiAgICB9KVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgbXlDaGFydC5yZXNpemUsIGZhbHNlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgbXlDaGFydC5yZXNpemUsIGZhbHNlKTtcbiAgICAgIG15Q2hhcnQuZGlzcG9zZSgpO1xuICAgICAgbXlDaGFydCA9IG51bGw7XG4gICAgfVxuICB9LCBbZGF0YV0pXG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgcmVmPXtjaGFydFJlZn0gIHN0eWxlPXt7XG4gICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICdoZWlnaHQnOiBoZWlnaHQgfX0+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRUNoYXJ0c0JhcjsiXX0=