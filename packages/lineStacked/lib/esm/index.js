import _objectSpread from "@babel/runtime/helpers/objectSpread2";
import _slicedToArray from "@babel/runtime/helpers/slicedToArray";
import React, { useEffect, useRef, useState } from 'react';
import * as echarts from 'echarts/core';
import { GridComponent, TooltipComponent, LegendComponent } from 'echarts/components';
import { LineChart } from 'echarts/charts';
import { CanvasRenderer } from 'echarts/renderers';
echarts.use([GridComponent, TooltipComponent, LegendComponent, LineChart, CanvasRenderer]);

var EChartsLine = function EChartsLine(props) {
  var _props$width = props.width,
      width = _props$width === void 0 ? '100%' : _props$width,
      _props$height = props.height,
      height = _props$height === void 0 ? '100%' : _props$height,
      _props$smooth = props.smooth,
      smooth = _props$smooth === void 0 ? false : _props$smooth,
      _props$colors = props.colors,
      colors = _props$colors === void 0 ? ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'] : _props$colors,
      _props$color = props.color,
      color = _props$color === void 0 ? '#333' : _props$color,
      _props$lineColor = props.lineColor,
      lineColor = _props$lineColor === void 0 ? '#abb9d0' : _props$lineColor,
      _props$splitColor = props.splitColor,
      splitColor = _props$splitColor === void 0 ? '#e0e7f3' : _props$splitColor,
      _props$fontSize = props.fontSize,
      fontSize = _props$fontSize === void 0 ? 14 : _props$fontSize,
      _props$legend = props.legend,
      legend = _props$legend === void 0 ? {} : _props$legend,
      _props$data = props.data,
      data = _props$data === void 0 ? [] : _props$data,
      _props$xAxis = props.xAxis,
      xAxis = _props$xAxis === void 0 ? {} : _props$xAxis,
      _props$yAxis = props.yAxis,
      yAxis = _props$yAxis === void 0 ? {} : _props$yAxis,
      _props$grid = props.grid,
      grid = _props$grid === void 0 ? {} : _props$grid,
      _props$areaStyle = props.areaStyle,
      areaStyle = _props$areaStyle === void 0 ? {} : _props$areaStyle,
      _props$isSwitch = props.isSwitch,
      isSwitch = _props$isSwitch === void 0 ? false : _props$isSwitch,
      _props$switchTime = props.switchTime,
      switchTime = _props$switchTime === void 0 ? 2000 : _props$switchTime,
      onClick = props.onClick;
  var chartRef = useRef(null);

  var _useState = useState(null),
      _useState2 = _slicedToArray(_useState, 2),
      myChart = _useState2[0],
      setMyChart = _useState2[1];

  var _useState3 = useState(false),
      _useState4 = _slicedToArray(_useState3, 1),
      isHigh = _useState4[0];

  var _useState5 = useState(0),
      _useState6 = _slicedToArray(_useState5, 2),
      highIndex = _useState6[0],
      setHighIndex = _useState6[1];

  useEffect(function () {
    var _myChart = echarts.init(chartRef.current);

    setMyChart(_myChart);
    window.addEventListener("resize", _myChart.resize, false);
    window.addEventListener('load', _myChart.resize, false);

    _myChart.off('click');

    _myChart.on('click', function (v) {
      onClick === null || onClick === void 0 ? void 0 : onClick(v.data);
      console.log(v.data);
    });

    return function () {
      console.log(2);
      window.removeEventListener('resize', _myChart.resize, false);
      window.removeEventListener('load', _myChart.resize, false);

      _myChart.dispose();
    };
  }, []);
  useEffect(function () {
    if (myChart) {
      myChart.clear();
      var _names = [];
      var _series = [];
      var _seriesName = [];
      data.length > 0 && data.map(function (item, index) {
        _names.push(item.name);

        console.log(item);
        var _value = [];
        item.child.map(function (item2) {
          _value.push(item2.value);

          _seriesName.push(item2.name);
        });

        var _areaColor;

        if (areaStyle.isGrad) {
          _areaColor = {
            type: 'linear',
            x: 0,
            y: 0,
            x2: 0,
            y2: 1,
            colorStops: [{
              offset: 0,
              color: colors[index]
            }, {
              offset: 1,
              color: 'rgba(255,255,255,0)'
            }],
            global: false
          };
        }

        _series.push({
          stack: 'stack',
          name: _seriesName[index],
          data: _value,
          type: 'line',
          smooth: smooth,
          areaStyle: areaStyle.show ? {
            color: _areaColor
          } : undefined,
          emphasis: {
            focus: 'series'
          },
          lineStyle: {
            width: 1
          }
        });
      });
      console.log(_series);

      var _grid = _objectSpread(_objectSpread({}, {
        top: '15%',
        bottom: '10%',
        left: '10%',
        right: '5%'
      }), grid);

      var _legend = _objectSpread(_objectSpread({}, {
        show: true,
        icon: 'circle',
        data: _seriesName
      }), legend);

      var _xAxis = {
        type: 'category',
        boundaryGap: false,
        axisLabel: {
          color: xAxis.color ? xAxis.color : color,
          fontSize: xAxis.fontSize ? xAxis.fontSize : fontSize,
          rotate: xAxis.rotate ? xAxis.rotate : 0
        },
        axisLine: {
          show: xAxis.lineColor === false ? false : true,
          lineStyle: {
            color: xAxis.lineColor ? xAxis.lineColor : lineColor
          }
        },
        axisTick: {
          show: xAxis.isTick
        },
        splitLine: {
          show: xAxis.splitColor ? true : false,
          lineStyle: {
            color: xAxis.splitColor ? xAxis.splitColor : splitColor
          }
        },
        data: _names
      };
      var _yAxis = {
        name: yAxis.name,
        type: 'value',
        axisLabel: {
          color: yAxis.color ? yAxis.color : color,
          fontSize: yAxis.fontSize ? yAxis.fontSize : fontSize
        },
        axisLine: {
          show: yAxis.lineColor === false ? false : true,
          lineStyle: {
            color: yAxis.lineColor ? yAxis.lineColor : lineColor
          }
        },
        axisTick: {
          show: false
        },
        splitLine: {
          show: yAxis.splitColor === false ? false : true,
          lineStyle: {
            color: yAxis.splitColor ? yAxis.splitColor : splitColor
          }
        }
      };
      myChart.setOption({
        tooltip: {
          trigger: 'axis',
          transitionDuration: 0,
          enterable: true,
          axisPointer: {
            type: 'shadow'
          }
        },
        color: colors,
        grid: _grid,
        legend: _legend,
        xAxis: _xAxis,
        yAxis: _yAxis,
        series: _series
      }, true);
    }
  }, [myChart, data]);
  useEffect(function () {
    var faultByHourTime;

    if (myChart && isSwitch && !isHigh && data.length > 0) {
      faultByHourTime = setInterval(function () {
        setHighIndex(function (n) {
          myChart.dispatchAction({
            type: 'showTip',
            seriesIndex: 0,
            dataIndex: n
          });

          if (n >= data.length - 1) {
            return 0;
          } else {
            return n + 1;
          }
        });
      }, switchTime);
    }

    return function () {
      clearInterval(faultByHourTime);
    };
  }, [myChart, isSwitch, isHigh, data]);
  return /*#__PURE__*/React.createElement("div", {
    ref: chartRef,
    style: {
      'width': width,
      'height': height
    }
  });
};

export default EChartsLine;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleC50c3giXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImVjaGFydHMiLCJHcmlkQ29tcG9uZW50IiwiVG9vbHRpcENvbXBvbmVudCIsIkxlZ2VuZENvbXBvbmVudCIsIkxpbmVDaGFydCIsIkNhbnZhc1JlbmRlcmVyIiwidXNlIiwiRUNoYXJ0c0xpbmUiLCJwcm9wcyIsIndpZHRoIiwiaGVpZ2h0Iiwic21vb3RoIiwiY29sb3JzIiwiY29sb3IiLCJsaW5lQ29sb3IiLCJzcGxpdENvbG9yIiwiZm9udFNpemUiLCJsZWdlbmQiLCJkYXRhIiwieEF4aXMiLCJ5QXhpcyIsImdyaWQiLCJhcmVhU3R5bGUiLCJpc1N3aXRjaCIsInN3aXRjaFRpbWUiLCJvbkNsaWNrIiwiY2hhcnRSZWYiLCJteUNoYXJ0Iiwic2V0TXlDaGFydCIsImlzSGlnaCIsImhpZ2hJbmRleCIsInNldEhpZ2hJbmRleCIsIl9teUNoYXJ0IiwiaW5pdCIsImN1cnJlbnQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwib2ZmIiwib24iLCJ2IiwiY29uc29sZSIsImxvZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwb3NlIiwiY2xlYXIiLCJfbmFtZXMiLCJfc2VyaWVzIiwiX3Nlcmllc05hbWUiLCJsZW5ndGgiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJwdXNoIiwibmFtZSIsIl92YWx1ZSIsImNoaWxkIiwiaXRlbTIiLCJ2YWx1ZSIsIl9hcmVhQ29sb3IiLCJpc0dyYWQiLCJ0eXBlIiwieCIsInkiLCJ4MiIsInkyIiwiY29sb3JTdG9wcyIsIm9mZnNldCIsImdsb2JhbCIsInN0YWNrIiwic2hvdyIsInVuZGVmaW5lZCIsImVtcGhhc2lzIiwiZm9jdXMiLCJsaW5lU3R5bGUiLCJfZ3JpZCIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsIl9sZWdlbmQiLCJpY29uIiwiX3hBeGlzIiwiYm91bmRhcnlHYXAiLCJheGlzTGFiZWwiLCJyb3RhdGUiLCJheGlzTGluZSIsImF4aXNUaWNrIiwiaXNUaWNrIiwic3BsaXRMaW5lIiwiX3lBeGlzIiwic2V0T3B0aW9uIiwidG9vbHRpcCIsInRyaWdnZXIiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJlbnRlcmFibGUiLCJheGlzUG9pbnRlciIsInNlcmllcyIsImZhdWx0QnlIb3VyVGltZSIsInNldEludGVydmFsIiwibiIsImRpc3BhdGNoQWN0aW9uIiwic2VyaWVzSW5kZXgiLCJkYXRhSW5kZXgiLCJjbGVhckludGVydmFsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE9BQU9BLEtBQVAsSUFBZ0JDLFNBQWhCLEVBQTJCQyxNQUEzQixFQUFtQ0MsUUFBbkMsUUFBbUQsT0FBbkQ7QUFFQSxPQUFPLEtBQUtDLE9BQVosTUFBeUIsY0FBekI7QUFDQSxTQUFTQyxhQUFULEVBQXdCQyxnQkFBeEIsRUFBMENDLGVBQTFDLFFBQTZHLG9CQUE3RztBQUNBLFNBQVNDLFNBQVQsUUFBMEIsZ0JBQTFCO0FBQ0EsU0FBU0MsY0FBVCxRQUErQixtQkFBL0I7QUFFQUwsT0FBTyxDQUFDTSxHQUFSLENBQ0UsQ0FBQ0wsYUFBRCxFQUFnQkMsZ0JBQWhCLEVBQWtDQyxlQUFsQyxFQUFtREMsU0FBbkQsRUFBOERDLGNBQTlELENBREY7O0FBeUVBLElBQU1FLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNDLEtBQUQsRUFBNkI7QUFDL0MscUJBa0JJQSxLQWxCSixDQUNFQyxLQURGO0FBQUEsTUFDRUEsS0FERiw2QkFDVSxNQURWO0FBQUEsc0JBa0JJRCxLQWxCSixDQUVFRSxNQUZGO0FBQUEsTUFFRUEsTUFGRiw4QkFFVyxNQUZYO0FBQUEsc0JBa0JJRixLQWxCSixDQUdFRyxNQUhGO0FBQUEsTUFHRUEsTUFIRiw4QkFHVyxLQUhYO0FBQUEsc0JBa0JJSCxLQWxCSixDQUlFSSxNQUpGO0FBQUEsTUFJRUEsTUFKRiw4QkFJVyxDQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLFNBQXZCLEVB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T0FBRCxFQUFVSixRQUFWLEVBQW9CTSxNQUFwQixFQUE0QlgsSUFBNUIsQ0FyQk0sQ0FBVDtBQXVCQSxzQkFDRTtBQUFLLElBQUEsR0FBRyxFQUFFUSxRQUFWO0FBQ0UsSUFBQSxLQUFLLEVBQUU7QUFDTCxlQUFTakIsS0FESjtBQUVMLGdCQUFVQztBQUZMO0FBRFQsSUFERjtBQVFELENBNU1EOztBQThNQSxlQUFlSCxXQUFmIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cy9jb3JlJztcclxuaW1wb3J0IHsgR3JpZENvbXBvbmVudCwgVG9vbHRpcENvbXBvbmVudCwgTGVnZW5kQ29tcG9uZW50LCBHcmlkQ29tcG9uZW50T3B0aW9uLCBMZWdlbmRDb21wb25lbnRPcHRpb24gfSBmcm9tICdlY2hhcnRzL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBMaW5lQ2hhcnQgfSBmcm9tICdlY2hhcnRzL2NoYXJ0cyc7XHJcbmltcG9ydCB7IENhbnZhc1JlbmRlcmVyIH0gZnJvbSAnZWNoYXJ0cy9yZW5kZXJlcnMnO1xyXG5cclxuZWNoYXJ0cy51c2UoXHJcbiAgW0dyaWRDb21wb25lbnQsIFRvb2x0aXBDb21wb25lbnQsIExlZ2VuZENvbXBvbmVudCwgTGluZUNoYXJ0LCBDYW52YXNSZW5kZXJlcl1cclxuKTtcclxuXHJcbmludGVyZmFjZSB4QXhpc1Byb3BzIHtcclxuICBjb2xvcj86IHN0cmluZztcclxuICBmb250U2l6ZT86IG51bWJlcjtcclxuICBsaW5lQ29sb3I/OiBzdHJpbmcgfCBib29sZWFuO1xyXG4gIHNwbGl0Q29sb3I/OiBzdHJpbmcgfCBib29sZWFuO1xyXG4gIHJvdGF0ZT86IG51bWJlcjtcclxuICBpc1RpY2s/OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgeUF4aXNQcm9wcyB7XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBjb2xvcj86IHN0cmluZztcclxuICBmb250U2l6ZT86IG51bWJlcjtcclxuICBsaW5lQ29sb3I/OiBzdHJpbmcgfCBib29sZWFuO1xyXG4gIHNwbGl0Q29sb3I/OiBzdHJpbmcgfCBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgYXJlYVN0eWxlUHJvcHMge1xyXG4gIHNob3c/OiBib29sZWFuO1xyXG4gIGlzR3JhZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBMaW5lU3RhY2tlZFByb3BzIHtcclxuICBkYXRhPzogYW55W107XHJcbiAgd2lkdGg/OiBzdHJpbmc7XHJcbiAgaGVpZ2h0Pzogc3RyaW5nO1xyXG4gIC8qKiDmmK/lkKblubPmu5Hmm7Lnur/mmL7npLogKi9cclxuICBzbW9vdGg/OiBib29sZWFuO1xyXG4gIC8qKiDlrZfkvZPpopzoibIgKi9cclxuICBjb2xvcj86IHN0cmluZztcclxuICAvKiogeCwgeei9tOi9tOe6v+e6v+adoeminOiJsiAqL1xyXG4gIGxpbmVDb2xvcj86IHN0cmluZztcclxuICAvKiogeCwgeei9tOe9keagvOe6v+adoeminOiJsiAqL1xyXG4gIHNwbGl0Q29sb3I/OiBzdHJpbmc7XHJcbiAgLyoqIOWtl+S9k+Wkp+Wwj++8jOm7mOiupDE05YOP57SgICovXHJcbiAgZm9udFNpemU/OiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgLyoqIOaKmOe6v+minOiJsiAqL1xyXG4gIGNvbG9ycz86IHN0cmluZ1tdO1xyXG4gIC8qKiDmmK/lkKboh6rliqjliIfmjaIgVG9vbHRpcCAqL1xyXG4gIGlzU3dpdGNoPzogYm9vbGVhbjtcclxuICAvKiog6Ieq5Yqo5YiH5o2i5LqL5Lu2IOm7mOiupCAyMDAw77yIMlPvvIkgKi9cclxuICBzd2l0Y2hUaW1lPzogbnVtYmVyO1xyXG4gIC8qKiDlm77kvovnu4Tku7YsIGFwaTogaHR0cHM6Ly9lY2hhcnRzLmFwYWNoZS5vcmcvemgvb3B0aW9uLmh0bWwjbGVnZW5kICovXHJcbiAgbGVnZW5kPzogTGVnZW5kQ29tcG9uZW50T3B0aW9uO1xyXG4gIC8qKiDljLrln5/loavlhYXmoLflvI8gKi9cclxuICBhcmVhU3R5bGU/OiBhcmVhU3R5bGVQcm9wcztcclxuICAvKipcclxuICAgKiBYIOi9tOmFjee9rlxyXG4gICAqIEBjb2xvciDmloflrZfpopzoibJcclxuICAgKiBAc2l6ZSDmloflrZflpKflsI9cclxuICAgKiBAbGluZUNvbG9yIHjovbTovbTnur/nur/mnaHpopzoibIsIGZhbHNlIOWImeS4jeaYvuekulxyXG4gICAqIEBzcGxpdENvbG9yIHjovbTnvZHmoLznur/mnaHpopzoibIsIGZhbHNlIOWImeS4jeaYvuekuiwg6buY6K6kdHJ1ZVxyXG4gICAqIEByb3RhdGUg5Yi75bqm5qCH562+5peL6L2s6KeS5bqmXHJcbiAgICogQGlzVGljayDmmK/lkKbmmL7npLrlnZDmoIfovbTliLvluqZcclxuICAgKi9cclxuICB4QXhpcz86IHhBeGlzUHJvcHM7XHJcbiAgLyoqXHJcbiAgICogeSDovbTphY3nva5cclxuICAgKiBAbmFtZSDlnZDmoIfovbTlkI3np7BcclxuICAgKiBAY29sb3Ig5paH5a2X6aKc6ImyXHJcbiAgICogQHNpemUg5paH5a2X5aSn5bCPXHJcbiAgICogQGxpbmVDb2xvciB56L206L2057q/57q/5p2h6aKc6ImyLCBmYWxzZSDliJnkuI3mmL7npLpcclxuICAgKiBAc3BsaXRDb2xvciB56L20572R5qC857q/5p2h6aKc6ImyLCBmYWxzZSDliJnkuI3mmL7npLosIOm7mOiupGZhbHNlXHJcbiAgICovXHJcbiAgeUF4aXM/OiB5QXhpc1Byb3BzO1xyXG4gIGdyaWQ/OiBHcmlkQ29tcG9uZW50T3B0aW9uO1xyXG4gIG9uQ2xpY2s/OiAodjogYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBFQ2hhcnRzTGluZSA9IChwcm9wczogTGluZVN0YWNrZWRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHtcclxuICAgIHdpZHRoID0gJzEwMCUnLFxyXG4gICAgaGVpZ2h0ID0gJzEwMCUnLFxyXG4gICAgc21vb3RoID0gZmFsc2UsXHJcbiAgICBjb2xvcnMgPSBbJyM1NDcwYzYnLCAnIzkxY2M3NScsICcjZmFjODU4JywgJyNlZTY2NjYnLCAnIzczYzBkZScsICcjM2JhMjcyJywgJyNmYzg0NTInLCAnIzlhNjBiNCcsICcjZWE3Y2NjJ10sXHJcbiAgICBjb2xvciA9ICcjMzMzJyxcclxuICAgIGxpbmVDb2xvciA9ICcjYWJiOWQwJyxcclxuICAgIHNwbGl0Q29sb3IgPSAnI2UwZTdmMycsXHJcbiAgICBmb250U2l6ZSA9IDE0LFxyXG4gICAgbGVnZW5kID0ge30sXHJcbiAgICBkYXRhID0gW10sXHJcbiAgICB4QXhpcyA9IHt9LFxyXG4gICAgeUF4aXMgPSB7fSxcclxuICAgIGdyaWQgPSB7fSxcclxuICAgIGFyZWFTdHlsZSA9IHt9LFxyXG4gICAgaXNTd2l0Y2ggPSBmYWxzZSxcclxuICAgIHN3aXRjaFRpbWUgPSAyMDAwLFxyXG4gICAgb25DbGlja1xyXG4gIH0gPSBwcm9wcztcclxuXHJcbiAgY29uc3QgY2hhcnRSZWYgPSB1c2VSZWY8YW55PihudWxsKVxyXG4gIGNvbnN0IFtteUNoYXJ0LCBzZXRNeUNoYXJ0XSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XHJcbiAgY29uc3QgW2lzSGlnaF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2hpZ2hJbmRleCwgc2V0SGlnaEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XHJcbiAgXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgX215Q2hhcnQ6IGFueSA9IGVjaGFydHMuaW5pdChjaGFydFJlZi5jdXJyZW50KTtcclxuICAgIHNldE15Q2hhcnQoX215Q2hhcnQpXHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgX215Q2hhcnQucmVzaXplLCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIF9teUNoYXJ0LnJlc2l6ZSwgZmFsc2UpO1xyXG4gICAgX215Q2hhcnQub2ZmKCdjbGljaycpO1xyXG4gICAgX215Q2hhcnQub24oJ2NsaWNrJywgKHY6IGFueSkgPT4ge1xyXG4gICAgICBvbkNsaWNrPy4odi5kYXRhKTtcclxuICAgICAgY29uc29sZS5sb2codi5kYXRhKVxyXG4gICAgfSlcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKDIpXHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfbXlDaGFydC5yZXNpemUsIGZhbHNlKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBfbXlDaGFydC5yZXNpemUsIGZhbHNlKTtcclxuICAgICAgX215Q2hhcnQuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG15Q2hhcnQpIHtcclxuICAgICAgbXlDaGFydC5jbGVhcigpO1xyXG4gICAgICBjb25zdCBfbmFtZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgIGNvbnN0IF9zZXJpZXM6IGFueVtdID0gW107XHJcbiAgICAgIGNvbnN0IF9zZXJpZXNOYW1lOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICBkYXRhLmxlbmd0aCA+IDAgJiYgZGF0YS5tYXAoKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIF9uYW1lcy5wdXNoKGl0ZW0ubmFtZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coaXRlbSlcclxuICAgICAgICBjb25zdCBfdmFsdWU6IGFueVtdID0gW107XHJcbiAgICAgICAgaXRlbS5jaGlsZC5tYXAoKGl0ZW0yOiBhbnkpID0+IHtcclxuICAgICAgICAgIF92YWx1ZS5wdXNoKGl0ZW0yLnZhbHVlKTtcclxuICAgICAgICAgIF9zZXJpZXNOYW1lLnB1c2goaXRlbTIubmFtZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBsZXQgX2FyZWFDb2xvcjogYW55O1xyXG4gICAgICAgIGlmIChhcmVhU3R5bGUuaXNHcmFkKSB7XHJcbiAgICAgICAgICBfYXJlYUNvbG9yID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDI6IDAsXHJcbiAgICAgICAgICAgIHkyOiAxLFxyXG4gICAgICAgICAgICBjb2xvclN0b3BzOiBbe1xyXG4gICAgICAgICAgICAgIG9mZnNldDogMCwgY29sb3I6IGNvbG9yc1tpbmRleF1cclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgIG9mZnNldDogMSwgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDApJ1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgZ2xvYmFsOiBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfc2VyaWVzLnB1c2goe1xyXG4gICAgICAgICAgc3RhY2s6ICdzdGFjaycsXHJcbiAgICAgICAgICBuYW1lOiBfc2VyaWVzTmFtZVtpbmRleF0sXHJcbiAgICAgICAgICBkYXRhOiBfdmFsdWUsXHJcbiAgICAgICAgICB0eXBlOiAnbGluZScsXHJcbiAgICAgICAgICBzbW9vdGg6IHNtb290aCxcclxuICAgICAgICAgIGFyZWFTdHlsZTogYXJlYVN0eWxlLnNob3cgPyB7XHJcbiAgICAgICAgICAgIGNvbG9yOiBfYXJlYUNvbG9yXHJcbiAgICAgICAgICB9IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgZW1waGFzaXM6IHtcclxuICAgICAgICAgICAgZm9jdXM6ICdzZXJpZXMnXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbGluZVN0eWxlOiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgICAgY29uc29sZS5sb2coX3NlcmllcylcclxuICAgICAgY29uc3QgX2dyaWQ6IEdyaWRDb21wb25lbnRPcHRpb24gPSB7Li4ue1xyXG4gICAgICAgIHRvcDogJzE1JScsXHJcbiAgICAgICAgYm90dG9tOiAnMTAlJyxcclxuICAgICAgICBsZWZ0OiAnMTAlJyxcclxuICAgICAgICByaWdodDogJzUlJyxcclxuICAgICAgfSwgLi4uZ3JpZH07XHJcbiAgICAgIGNvbnN0IF9sZWdlbmQ6IExlZ2VuZENvbXBvbmVudE9wdGlvbiA9IHsuLi57XHJcbiAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICBpY29uOiAnY2lyY2xlJyxcclxuICAgICAgICBkYXRhOiBfc2VyaWVzTmFtZVxyXG4gICAgICB9LCAuLi5sZWdlbmR9O1xyXG4gICAgICBjb25zdCBfeEF4aXM6IGFueSA9IHtcclxuICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLFxyXG4gICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSxcclxuICAgICAgICBheGlzTGFiZWw6IHtcclxuICAgICAgICAgIGNvbG9yOiB4QXhpcy5jb2xvciA/IHhBeGlzLmNvbG9yIDogY29sb3IsXHJcbiAgICAgICAgICBmb250U2l6ZTogeEF4aXMuZm9udFNpemUgPyB4QXhpcy5mb250U2l6ZSA6IGZvbnRTaXplLFxyXG4gICAgICAgICAgcm90YXRlOiB4QXhpcy5yb3RhdGUgPyB4QXhpcy5yb3RhdGUgOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXhpc0xpbmU6IHtcclxuICAgICAgICAgIHNob3c6IHhBeGlzLmxpbmVDb2xvciA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWUsXHJcbiAgICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgICAgY29sb3I6IHhBeGlzLmxpbmVDb2xvciA/IHhBeGlzLmxpbmVDb2xvciA6IGxpbmVDb2xvcixcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGF4aXNUaWNrOiB7XHJcbiAgICAgICAgICBzaG93OiB4QXhpcy5pc1RpY2ssXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGxpdExpbmU6IHtcclxuICAgICAgICAgIHNob3c6IHhBeGlzLnNwbGl0Q29sb3IgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgICAgY29sb3I6IHhBeGlzLnNwbGl0Q29sb3IgPyB4QXhpcy5zcGxpdENvbG9yIDogc3BsaXRDb2xvcixcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGE6IF9uYW1lc1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IF95QXhpczogYW55ID0ge1xyXG4gICAgICAgIG5hbWU6IHlBeGlzLm5hbWUsXHJcbiAgICAgICAgdHlwZTogJ3ZhbHVlJyxcclxuICAgICAgICBheGlzTGFiZWw6IHtcclxuICAgICAgICAgIGNvbG9yOiB5QXhpcy5jb2xvciA/IHlBeGlzLmNvbG9yIDogY29sb3IsXHJcbiAgICAgICAgICBmb250U2l6ZTogeUF4aXMuZm9udFNpemUgPyB5QXhpcy5mb250U2l6ZSA6IGZvbnRTaXplLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXhpc0xpbmU6IHtcclxuICAgICAgICAgIHNob3c6IHlBeGlzLmxpbmVDb2xvciA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWUsXHJcbiAgICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgICAgY29sb3I6IHlBeGlzLmxpbmVDb2xvciA/IHlBeGlzLmxpbmVDb2xvciA6IGxpbmVDb2xvcixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBheGlzVGljazoge1xyXG4gICAgICAgICAgc2hvdzogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGxpdExpbmU6IHtcclxuICAgICAgICAgIHNob3c6IHlBeGlzLnNwbGl0Q29sb3IgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlLFxyXG4gICAgICAgICAgbGluZVN0eWxlOiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiB5QXhpcy5zcGxpdENvbG9yID8geUF4aXMuc3BsaXRDb2xvciA6IHNwbGl0Q29sb3IsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgbXlDaGFydC5zZXRPcHRpb24oe1xyXG4gICAgICAgIHRvb2x0aXA6IHtcclxuICAgICAgICAgIHRyaWdnZXI6ICdheGlzJyxcclxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcclxuICAgICAgICAgIGVudGVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIGF4aXNQb2ludGVyOiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdzaGFkb3cnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb2xvcjogY29sb3JzLFxyXG4gICAgICAgIGdyaWQ6IF9ncmlkLFxyXG4gICAgICAgIGxlZ2VuZDogX2xlZ2VuZCxcclxuICAgICAgICB4QXhpczogX3hBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBfeUF4aXMsXHJcbiAgICAgICAgc2VyaWVzOiBfc2VyaWVzXHJcbiAgICAgIH0sIHRydWUpO1xyXG4gICAgfVxyXG4gIH0sIFtteUNoYXJ0LCBkYXRhXSlcclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGZhdWx0QnlIb3VyVGltZTogYW55O1xyXG4gICAgaWYgKG15Q2hhcnQgJiYgaXNTd2l0Y2ggJiYgIWlzSGlnaCAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgZmF1bHRCeUhvdXJUaW1lID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIHNldEhpZ2hJbmRleChuID0+IHtcclxuICAgICAgICAgIG15Q2hhcnQuZGlzcGF0Y2hBY3Rpb24oe1xyXG4gICAgICAgICAgICB0eXBlOiAnc2hvd1RpcCcsXHJcbiAgICAgICAgICAgIHNlcmllc0luZGV4OiAwLFxyXG4gICAgICAgICAgICBkYXRhSW5kZXg6IG5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgaWYgKG4gPj0gZGF0YS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG4gKyAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSwgc3dpdGNoVGltZSlcclxuICAgIH1cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoZmF1bHRCeUhvdXJUaW1lKVxyXG4gICAgfVxyXG4gIH0sIFtteUNoYXJ0LCBpc1N3aXRjaCwgaXNIaWdoLCBkYXRhXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgcmVmPXtjaGFydFJlZn1cclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICAnd2lkdGgnOiB3aWR0aCxcclxuICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0XHJcbiAgICAgIH19PlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFQ2hhcnRzTGluZTsiXX0=